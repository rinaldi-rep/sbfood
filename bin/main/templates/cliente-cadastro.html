<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}" th:with="link=@{/cliente/home}">

	<body>
		<div layout:fragment="content">
		   <div>
		      <h1>Cadastro de Cliente</h1>
		
		      <div id="mensagemDeSucesso" th:if="${msg != null}">
		         <span th:text="${msg}"></span>
		      </div><br />
		
		      <form method="post" th:object="${cliente}" th:action="${editMode} ? @{/cliente/save} : @{/public/cliente/save}">
		         <fieldset>
		         	<input type="hidden" th:field="*{id}" />
		         
		            <label for="nome">Nome:</label><br />
		            <input type="text" name="nome" id="nome" placeholder="Nome..." th:field="*{nome}" 
		                   th:classappend="${#fields.hasErrors('nome')} ? 'inputError' : ''" /><br />
		            <div id="mensagemDeErro"  th:if="${#fields.hasErrors('nome')}">
		               <span th:errors="*{nome}"></span>
		            </div><br />
		
		            <label for="cpf">CPF:</label><br />
		            <input type="text" name="cpf" id="cpf" placeholder="CPF..." th:field="*{cpf}" onkeydown="return isNumberKey(event);" 
		                   th:classappend="${#fields.hasErrors('cpf')} ? 'inputError' : ''" /><br />
		            <div id="mensagemDeErro"  th:if="${#fields.hasErrors('cpf')}">
		               <span th:errors="*{cpf}"></span>
		            </div><br />
		            
		            <label for="email">E-mail:</label><br />
		            <input type="text" name="email" id="email" placeholder="E-mail..." th:field="*{email}"  
		                   th:classappend="${#fields.hasErrors('email')} ? 'inputError' : ''" /><br />
		            <div id="mensagemDeErro"  th:if="${#fields.hasErrors('email')}">
		               <span th:errors="*{email}"></span>
		            </div><br />
		
		            <label for="telefone">Telefone:</label><br />
		            <input type="text" name="telefone" id="telefone" placeholder="Telefone..." th:field="*{telefone}" onkeydown="return isNumberKey(event);" 
		                   th:classappend="${#fields.hasErrors('telefone')} ? 'inputError' : ''" /><br />
		            <div id="mensagemDeErro"  th:if="${#fields.hasErrors('telefone')}">
		               <span th:errors="*{telefone}"></span>
		            </div><br />
		
		            <label for="cep">CEP:</label><br />
		            <input type="text" name="cep" id="cep" placeholder="CEP..." th:field="*{cep}" onkeydown="return isNumberKey(event);"  
		                   th:classappend="${#fields.hasErrors('cep')} ? 'inputError' : ''" /><br />
		            <div id="mensagemDeErro"  th:if="${#fields.hasErrors('cep')}">
		               <span th:errors="*{cep}"></span>
		            </div><br />
		
					<div th:if="${!editMode}">
			            <label for="senha">Senha:</label><br />
			            <input type="password" name="senha" id="senha" placeholder="Senha..." th:field="*{senha}"  
			                   th:classappend="${#fields.hasErrors('senha')} ? 'inputError' : ''" /><br />
			            <div id="mensagemDeErro"  th:if="${#fields.hasErrors('senha')}">
			               <span th:errors="*{senha}"></span>
		            	</div><br />
					</div>
					<input type="hidden" name="senha" value="senhaFake" th:if="${editMode}" />
					
		            <input type="submit" th:value="${editMode} ? 'Alterar' : 'Cadastrar'" />
		         </fieldset>
		      </form>
		      <br />
		
		      <input type="button" value="Voltar" th:onclick="'location.href=\'' + @{/cliente/home} + '\';'"/>
		   </div>
		</div>
	</body>
</html>
